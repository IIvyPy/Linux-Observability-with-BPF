通过传递消息来调用一个程序中的行为是软件工程中广泛使用的技术。一个程序可以通过发送消息来修改另一个程序的行为；这也允许在这些程序之间交换信息。 BPF最令人着迷的方面之一是，内核上运行的代码和加载了该代码的程序可以在运行时使用消息传递相互通信。

在这一章中，我们介绍了BPF程序和用户态程序如何相互通信。我们描述了内核和用户态之间不同的通信渠道，以及它们如何存储信息。我们还将向您展示这些通道的用例，以及如何使这些通道中的数据在程序初始化之间保持不变。

BPF映射是驻留在内核中的键/值存储。任何BPF程序都可以访问它们。在用户态中运行的程序也可以使用文件描述符访问这些映射。只要事先正确指定数据大小，就可以在映射中存储任何类型的数据。内核将键和值视为二进制 blobs，它并不关心您在映射中保留的内容。

BPF验证程序包括多种保护措施，以确保您创建和访问映射的方式是安全的。当我们解释如何访问这些映射中的数据时，我们也将解释这些保护措施。